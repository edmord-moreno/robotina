<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robotina | Tu Secretaria Personal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      text-align: center;
      padding: 2rem;
    }
    #log {
      background: white;
      padding: 1rem;
      margin-top: 1rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      min-height: 100px;
    }
    button {
      padding: 1rem;
      font-size: 1rem;
      border: none;
      background-color: orange;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background-color: darkorange;
    }
  </style>
</head>
<body>
  <h1>ðŸ¤– Robotina te saluda, jefe</h1>
  <p>Presiona el botÃ³n y da una orden</p>
  <button onclick="escucharOrden()">ðŸŽ¤ Hablar</button>
  <div id="log">AquÃ­ aparecerÃ¡ tu orden...</div>

  <script>
    const tareas = [];
    const log = document.getElementById('log');

    const hablar = (texto) => {
      const voz = new SpeechSynthesisUtterance(texto);
      voz.lang = 'es-ES';
      speechSynthesis.speak(voz);
    };

    const ejecutarOrden = (orden) => {
      orden = orden.toLowerCase();
      log.innerHTML = "TÃº dijiste: <strong>" + orden + "</strong><br>";

      if (orden.includes("hola") || orden.includes("buenos dÃ­as")) {
        hablar("Hola jefe, Â¿quÃ© ordena?");
      } else if (orden.includes("anota") || orden.includes("agrega tarea")) {
        const tarea = orden.replace("anota", "").replace("agrega tarea", "").trim();
        tareas.push(tarea);
        hablar("Tarea aÃ±adida, jefe: " + tarea);
      } else if (orden.includes("lista de tareas")) {
        if (tareas.length === 0) {
          hablar("No tiene tareas pendientes, jefe.");
        } else {
          hablar("Estas son sus tareas del dÃ­a, jefe:");
          tareas.forEach((t, i) => {
            hablar("Tarea " + (i+1) + ": " + t);
          });
        }
      } else if (orden.includes("gracias") || orden.includes("muy bien")) {
        hablar("A sus Ã³rdenes, jefe.");
      } else {
        hablar("Lo siento, jefe. Esa orden aÃºn no estÃ¡ en mi programaciÃ³n.");
      }
    };

    function escucharOrden() {
      if (!('webkitSpeechRecognition' in window)) {
        hablar("Lo siento jefe, su navegador no soporta reconocimiento de voz.");
        return;
      }

      const reconocimiento = new webkitSpeechRecognition();
      reconocimiento.lang = 'es-ES';
      reconocimiento.continuous = false;
      reconocimiento.interimResults = false;

      reconocimiento.start();

      reconocimiento.onresult = (evento) => {
        const resultado = evento.results[0][0].transcript;
        ejecutarOrden(resultado);
      };

      reconocimiento.onerror = () => {
        hablar("Lo siento jefe, no pude escuchar bien. Intente de nuevo.");
      };
    }
  </script>
</body>
</html>
